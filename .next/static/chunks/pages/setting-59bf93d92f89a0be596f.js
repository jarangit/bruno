(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{2379:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(1664),i=r(1163),s=r(7294),a=r(5998),c=r(2809),l=r(3328),o=r(5376),d=r(5893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}l.kL.register(l.uw,l.f$,l.od,l.jn,l.ST,l.u,l.De);var h=["-1","0","1"],j=["#FF4967","#FFA726","#56D9FE"],f={plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{display:!1},x:{grid:{color:"#595959"}}}};function g(e,t){var r=j[0],n=j[1],i=j[2],s=e.createLinearGradient(0,t.top,550,t.bottom);return s.addColorStop(0,r),s.addColorStop(.5,n),s.addColorStop(1,i),s}function x(e){var t=e.dataGraph,r={labels:h,datasets:[{label:"Dataset 1",data:t.length>0?t.map((function(e){return e.unit_price})):"",tension:.5,pointRadius:0}]},n=(0,s.useRef)(null),i=(0,s.useState)({datasets:[]}),a=i[0],c=i[1];return(0,s.useEffect)((function(){var e=n.current;if(e){var t=p(p({},r),{},{datasets:r.datasets.map((function(t){return p(p({},t),{},{borderColor:g(e.ctx,e.chartArea)})}))});c(t)}}),[]),(0,d.jsx)(d.Fragment,{children:t.length>0?(0,d.jsx)(o.kL,{ref:n,type:"line",data:a,options:f}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.kL,{ref:n,type:"line",className:"relative",data:a,options:f}),(0,d.jsx)("div",{className:" absolute top-1/2 left-[45%]",children:"No Data"})]})})}var m=r(9059),b=r.n(m);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.data,r=(0,s.useState)([]),n=r[0],i=r[1],a=(0,s.useState)({from_time:"",name:"",to_time:"",unit_price:""}),l=a[0],o=a[1];(0,s.useEffect)((function(){t&&i(t)}),[]);(0,s.useMemo)((function(){return function(e,t){return o(v(v({},l),{},(0,c.Z)({},e.target.name,e.target.value)))}}),[]);return(0,d.jsx)(d.Fragment,{children:t.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("table",{className:b().table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Priority"}),(0,d.jsx)("th",{children:"Name"}),(0,d.jsx)("th",{children:"Time Zone"}),(0,d.jsx)("th",{children:"Unit Price"})]})}),(0,d.jsx)("tbody",{children:t.map((function(e,t){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t+1}),(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:b().name,children:(0,d.jsx)("p",{children:e.name})})}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:b().fillSelect,children:[(0,d.jsx)("div",{className:"selector_gray",children:(0,d.jsxs)("select",{name:"startTime",id:"startTime",children:[(0,d.jsx)("option",{value:"",children:e.from_time}),(0,d.jsx)("option",{value:"00:00",children:"00:00"})]})}),(0,d.jsx)("p",{children:"To"}),(0,d.jsx)("div",{className:"selector_gray",children:(0,d.jsxs)("select",{name:"startTime",id:"startTime",children:[(0,d.jsx)("option",{value:"",children:e.to_time}),(0,d.jsx)("option",{value:"00:00",children:"00:00"})]})})]})}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:b().unitPrice,children:[(0,d.jsx)("p",{children:e.unit_price}),(0,d.jsx)("span",{children:"THB/kWh"})]})})]},t)}))})]}),(0,d.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,d.jsx)("button",{className:"but_gray",onClick:function(){var e={from_time:"00:00",name:"234",to_time:"13: 59234234",unit_price:2234234};n.map((function(t,r){return 0===r?(console.log(t),v(v({},t),e)):t}))},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})})]}):(0,d.jsx)("div",{className:" h-24 flex items-center justify-center",children:"No Data"})})},O=r(7788),P=r(8957),N=r.n(P),w=r(4480),T=function(e){var t=(0,a.I0)(),r=(0,i.useRouter)(),c=(0,a.v9)((function(e){return e.building})).data,l=(0,a.v9)((function(e){return e.allBuildings}));return(0,s.useEffect)((function(){var e=localStorage.getItem("token"),n=(0,w.L)("currentBuildingID");e?t((0,O.v)(Number(n))):r.push("/signin")}),[l.currentBuilding]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.default,{href:"/",children:(0,d.jsx)("img",{src:"svg/arrowLeft.svg",className:"icon",width:40,style:{margin:"0px"},alt:""})}),(0,d.jsxs)("div",{className:"box_black",children:[(0,d.jsxs)("div",{className:N().title,children:[(0,d.jsx)("img",{src:"/svg/gear.svg",alt:"",width:20,className:"icon"}),(0,d.jsx)("p",{children:"Unit Price Setting "})]}),(0,d.jsxs)("div",{className:N().boxGraph,children:[(0,d.jsxs)("div",{className:N().boxGrapgL,children:[(0,d.jsxs)("p",{className:N().bath,children:["\u0e2a\u0e01\u0e38\u0e25\u0e40\u0e07\u0e34\u0e19",(0,d.jsx)("span",{children:"THB"})]}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:"Price/Time Zone"})})]}),(0,d.jsx)("div",{className:"".concat(N().graph," relative"),children:c?(0,d.jsx)(x,{dataGraph:c.unit_price}):null})]}),(0,d.jsx)("div",{children:c?(0,d.jsx)(y,{data:c.unit_price||[]}):"no data"})]})]})}},6515:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setting",function(){return r(2379)}])},8957:function(e){e.exports={title:"settingPage_title__3qnJP",boxGraph:"settingPage_boxGraph__2y9Jr",boxGrapgL:"settingPage_boxGrapgL__3OaJ6",graph:"settingPage_graph__zKETm",bath:"settingPage_bath__2EMtT"}},9059:function(e){e.exports={table:"settingTable_table__egSQ9",name:"settingTable_name__31NDq",fillSelect:"settingTable_fillSelect__2byq3",unitPrice:"settingTable_unitPrice__XyaKE"}}},function(e){e.O(0,[570,7,774,888,179],(function(){return t=6515,e(e.s=t);var t}));var t=e.O();_N_E=t}]);