(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{3855:function(e,n,t){"use strict";t.d(n,{do:function(){return l}});var r=t(7294),s=t(2897),a=t.n(s),i=t(5675),c=t(5893),l=function(e){var n=e.title,t=e.data,s=e.airSelected,l=(0,r.useState)(!1),o=l[0],u=l[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a().title,children:n}),(0,c.jsxs)("form",{className:a().box_form,children:[t&&t.map((function(e,n){return n<="".concat(o?100:9)&&(0,c.jsx)("div",{className:a().form_item,children:(0,c.jsxs)("label",{className:"container_label",children:[e.name,(0,c.jsx)("input",{type:"checkbox",disabled:"on"===e.status,defaultChecked:"on"===e.status,onChange:function(){var n;(n=e.id)&&s.push(n)},value:e.name}),(0,c.jsx)("span",{className:"checkmark"})]})},n)})),t.length>10?(0,c.jsx)("div",{className:"w-full text-center cursor-pointer",onClick:function(){return u(!o)},children:o?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"rotate-180",children:(0,c.jsx)(i.default,{src:"/svg/arrowDown.svg",alt:"",width:10,height:10})}),(0,c.jsx)("div",{children:"Hidden"})]}):(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"Show more"}),(0,c.jsx)("div",{children:(0,c.jsx)(i.default,{src:"/svg/arrowDown.svg",alt:"",width:10,height:10})})]})}):null]})]})};t(7931),t(1968),t(2639)},7931:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(266),s=t(2809),a=t(809),i=t.n(a),c=t(1163),l=t(7294),o=t(9669),u=t.n(o),d=function(){var e=(0,r.Z)(i().mark((function e(n,t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u().patch("".concat("https://api.airin1.com/api/","buildings/").concat(r,"/owner_info"),n,{headers:{Authorization:"Bearer ".concat(t),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}}).then((function(e){console.log(e.data)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),m=t(5021),f=t.n(m),p=t(4480),x=t(5893);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n=e.data,t=(0,l.useState)(!1),a=t[0],o=t[1],u=(0,l.useState)(""),m=u[0],h=u[1],j=(0,l.useState)(""),g=j[0],b=j[1],_=(0,l.useState)({name:"",address:"",postal_code:"",mobile_number:"",email:"",line_id:"line",room_count:3}),w=_[0],y=_[1],N=(0,c.useRouter)(),O=w.name,A=w.address,C=w.postal_code,k=w.mobile_number,I=w.email;w.line_id;var S=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),n.preventDefault(),!g){e.next=6;break}return e.next=5,d(w,g,m);case 5:o(!1);case 6:N.push("/");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var e=(0,p.L)("token"),t=localStorage.getItem("currentBuildingID");if(e&&t&&(b(e),h(t)),n.building_owner){var r=n.building_owner;y({name:r.name,address:r.address,postal_code:r.postal_code,mobile_number:r.mobile_number,email:r.email,line_id:"line",room_count:3})}else y({name:"",address:"",postal_code:"",mobile_number:"",email:"",line_id:"",room_count:0})}),[n]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("form",{className:f().form,onChange:function(e){y(v(v({},w),{},(0,s.Z)({},e.target.name,e.target.value)))},onSubmit:S,children:[(0,x.jsxs)("div",{className:f().formItem,children:[(0,x.jsx)("label",{children:"Owner"}),(0,x.jsx)("input",{type:"text",placeholder:"name",className:"mainInput",name:"name",defaultValue:O||""})]}),(0,x.jsxs)("div",{className:f().formItem,children:[(0,x.jsx)("label",{children:"Address"}),(0,x.jsx)("textarea",{placeholder:"Address",className:"mainTextArea",rows:5,cols:5,name:"address",defaultValue:A||""})]}),(0,x.jsxs)("div",{className:f().formItem,children:[(0,x.jsx)("label",{children:"Postal code"}),(0,x.jsx)("input",{type:"text",placeholder:"Postal code",className:"mainInput",name:"postal_code",defaultValue:C||""})]}),(0,x.jsxs)("div",{className:f().formItem,children:[(0,x.jsx)("label",{children:"Tel"}),(0,x.jsx)("input",{type:"text",placeholder:"Tel",className:"mainInput",name:"mobile_number",defaultValue:k||""})]}),(0,x.jsxs)("div",{className:f().formItem,children:[(0,x.jsx)("label",{children:"Email"}),(0,x.jsx)("input",{type:"text",placeholder:"Email",className:"mainInput",name:"email",defaultValue:I||""})]}),(0,x.jsx)("div",{className:f().boxBut,children:(0,x.jsx)("button",{className:"but_gray",type:"submit",children:a?"Loading...":"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})})]})})}},1968:function(e,n,t){"use strict";t(7294);var r=t(2639),s=t(7095),a=t.n(s),i=t(1664),c=t(5893);n.Z=function(e){var n=e.data;return(0,c.jsxs)("div",{className:a().userList,children:[(0,c.jsxs)("div",{className:a().title,children:[(0,c.jsx)("h1",{children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2b\u0e49\u0e2d\u0e07"}),(0,c.jsx)(i.default,{href:"/user/add_user/",children:(0,c.jsx)("a",{children:(0,c.jsxs)("h3",{className:"flex items-center",children:[(0,c.jsx)("span",{children:(0,c.jsx)("img",{src:"/svg/add.svg",width:20,className:"icon",alt:""})}),"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32"]})})})]}),(0,c.jsx)("div",{className:a().list,children:n&&n.map((function(e,n){return(0,c.jsx)(r.Z,{data:e},n)}))})]})}},2639:function(e,n,t){"use strict";var r=t(1664),s=t(7294),a=t(6497),i=t.n(a),c=t(5893);n.Z=function(e){var n=e.data,t=(0,s.useState)(n),a=(t[0],t[1],n.id),l=n.name,o=(n.lname,n.tell,n.line,n.email,n.floor_id);return(0,c.jsxs)("div",{className:i().userListItem,children:[(0,c.jsxs)("figure",{className:i().item,children:[(0,c.jsx)("img",{src:"/svg/builder.svg",width:40,className:"icon",alt:""}),(0,c.jsx)("figcaption",{children:(0,c.jsxs)("section",{children:[(0,c.jsxs)("p",{children:["\u0e0a\u0e31\u0e49\u0e19: ",o]}),(0,c.jsxs)("p",{children:["\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32: ",(0,c.jsx)("span",{children:"".concat(l," ")})]})]})})]}),(0,c.jsx)(r.default,{href:"/user/".concat(a),children:(0,c.jsxs)("figure",{className:i().item,children:[(0,c.jsx)("img",{src:"/svg/calculate.svg",width:40,className:"icon",alt:""}),(0,c.jsx)("figcaption",{children:(0,c.jsx)("p",{children:"\u0e04\u0e34\u0e14\u0e04\u0e48\u0e32\u0e44\u0e1f"})})]})})]})}},7309:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(266),s=t(809),a=t.n(s),i=t(7294),c=t(3855),l=t(2809),o=t(1163),u=t(7536),d=t(911),m=t(3918),f=t(4480),p=t(5893);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v={name:"",mobile_number:"",email:"",line_id:"",room_count:"",building_id:"",floor_id:"",device_ids:[]},j=function(e){var n=e.airSelected,t=e.setDataForm,s=e.oldData,c=(0,i.useState)(""),l=c[0],x=c[1],j=(0,i.useState)(),g=j[0],b=j[1],_=(0,i.useState)([]),w=_[0],y=_[1],N=(0,i.useState)(!1),O=N[0],A=N[1],C=(0,o.useRouter)(),k=((0,i.useRef)(),(0,u.cI)({defaultValues:v})),I=(k.register,k.handleSubmit),S=k.reset,P=(k.setValue,k.control),B=k.watch,D=k.formState.errors,L=function(){var e=(0,r.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),!(r=h(h({},t),{},{building_id:g,device_ids:n}))||!l){e.next=5;break}return e.next=5,(0,m.H)(r,l);case 5:S(h({},v)),A(!1),C.push("/");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();console.log(D);var E=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,(0,d.J)(l);case 3:(n=e.sent)&&y(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){console.log("main re");var e=(0,f.L)("token"),n=(0,f.L)("currentBuildingID");return e&&n&&(x(e),b(n),E()),s&&S(s),function(){}}),[l]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{onSubmit:I(L),className:"my-10",onChange:function(){var e=B();t(e)},children:[(0,p.jsxs)("div",{className:"flex md:flex-col lg:flex-row gap-5",children:[(0,p.jsxs)("div",{className:"lg:w-1/2 flex flex-col gap-5 bg-[#262626] p-4 rounded-lg",children:[(0,p.jsx)(u.Qr,{control:P,name:"building_id",render:function(e){var n=e.field,t=n.onChange;n.onBlur,n.value,n.ref;return(0,p.jsx)(p.Fragment,{children:w&&(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"\u0e2d\u0e32\u0e04\u0e32\u0e23"}),(0,p.jsx)("select",{disabled:!0,className:"max-w-[120px] bg-[#707070] rounded-full",name:"build",id:"",onChange:t,children:w.map((function(e,n){return(0,p.jsx)("option",{value:e.id,selected:e.id==g,children:e.name},n)}))})]})})}}),(0,p.jsx)(u.Qr,{control:P,name:"floor_id",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"\u0e0a\u0e31\u0e49\u0e19"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.floor_id&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"\u0e0a\u0e31\u0e49\u0e19",className:"mainInput max-w-[120px]",value:r,onChange:t})]})]})}}),(0,p.jsx)(u.Qr,{control:P,name:"room_count",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"\u0e2b\u0e49\u0e2d\u0e07"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.room_count&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"\u0e2b\u0e49\u0e2d\u0e07",className:"mainInput max-w-[120px]",value:r,onChange:t})]})]})}})]}),(0,p.jsxs)("div",{className:"lg:w-1/2 flex flex-col gap-5 p-4",children:[(0,p.jsx)(u.Qr,{control:P,name:"name",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.name&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32",className:"mainInput",value:r,onChange:t})]})]})}}),(0,p.jsx)(u.Qr,{control:P,name:"mobile_number",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.mobile_number&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23",className:"mainInput",value:r,onChange:t})]})]})}}),(0,p.jsx)(u.Qr,{control:P,name:"email",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"Email"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.email&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"Email",className:"mainInput",value:r,onChange:t})]})]})}}),(0,p.jsx)(u.Qr,{control:P,name:"line_id",rules:{required:!0},render:function(e){var n=e.field,t=n.onChange,r=(n.onBlur,n.value);n.ref;return(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:"ID Line"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-red-700 mr-2 text-lg",children:D.line_id&&(0,p.jsx)("span",{children:"*"})}),(0,p.jsx)("input",{type:"text",placeholder:"ID Line",className:"mainInput",value:r,onChange:t})]})]})}})]})]}),(0,p.jsx)("div",{style:{textAlign:"center",marginTop:"30px"},children:(0,p.jsx)("button",{type:"submit",className:"but_gray",children:O?"Loading...":"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32"})})]})})},g=t(9669),b=t.n(g),_=function(){var e=(0,r.Z)(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b().get("".concat("https://api.airin1.com/api/","devices?building_id=").concat(t),{headers:{Authorization:"Bearer ".concat(n),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});case 3:return r=e.sent,s=r.data,r.status,e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t){return e.apply(this,arguments)}}(),w=t(3583),y=t.n(w),N=function(e){var n=(0,i.useState)(!1),t=n[0],s=n[1],l=(0,i.useState)(""),o=l[0],u=l[1],d=(0,i.useState)(),m=d[0],x=d[1],h=(0,i.useState)(),v=h[0],g=h[1],b=(0,i.useState)([]),w=b[0],N=(b[1],(0,i.useState)()),O=N[0],A=N[1];console.log("%cMyProject%cline:16%cdataForm","color:#fff;background:#ee6f57;padding:3px;border-radius:2px","color:#fff;background:#1f3c88;padding:3px;border-radius:2px","color:#fff;background:rgb(248, 147, 29);padding:3px;border-radius:2px",O);var C=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,_(o,m);case 3:n=e.sent,g(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=(0,f.L)("token"),n=(0,f.L)("currentBuildingID");return e&&n&&(u(e),x(n),C()),function(){}}),[o,w]),(0,p.jsxs)("div",{className:"box_black",children:[(0,p.jsxs)("div",{className:y().title,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:"/svg/add.svg",alt:"",width:30,className:"icon"}),(0,p.jsx)("h3",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e40\u0e0a\u0e48\u0e32"})]}),(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:"but_gray text-center flex justify-center",onClick:function(){return s(!t)},children:t?"\u0e01\u0e25\u0e31\u0e1a":"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 AIR"})})]}),(0,p.jsx)("div",{children:t?(0,p.jsx)("div",{children:(0,p.jsx)(c.do,{data:v,title:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 Air",airSelected:w})}):(0,p.jsx)("div",{className:y().box_form,children:(0,p.jsx)(j,{airSelected:w,setDataForm:A,oldData:O})})})]})}},911:function(e,n,t){"use strict";t.d(n,{J:function(){return l},T:function(){return o}});var r=t(266),s=t(809),a=t.n(s),i=t(9669),c=t.n(i),l=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("".concat("https://api.airin1.com/api/","buildings"),{headers:{Authorization:"Bearer ".concat(n),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});case 3:return t=e.sent,r=t.data,t.status,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(a().mark((function e(n,t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().patch("".concat("https://api.airin1.com/api/","buildings/").concat(t,"/unit_price"),r,{headers:{Authorization:"Bearer ".concat(n),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}}).then((function(e){console.log(e.data)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},3918:function(e,n,t){"use strict";t.d(n,{H:function(){return l},V:function(){return o}});var r=t(266),s=t(809),a=t.n(s),i=t(9669),c=t.n(i),l=function(){var e=(0,r.Z)(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().post("".concat("https://api.airin1.com/api/","tenants"),n,{headers:{Authorization:"Bearer ".concat(t),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}}).then((function(e){console.log(e.data)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().delete("".concat("https://api.airin1.com/api/","tenants/").concat(n),{headers:{Authorization:"Bearer ".concat(t),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}}).then((function(e){console.log(e.data)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},382:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/add_user",function(){return t(7309)}])},2897:function(e){e.exports={title:"airRegisterForm_title__1E3v1",box_form:"airRegisterForm_box_form__2v5bv",form_item:"airRegisterForm_form_item__2e2di"}},5021:function(e){e.exports={form:"loginForm_form__2TQH8",formItem:"loginForm_formItem__3_Q8Q",boxBut:"loginForm_boxBut__3NBwF"}},7095:function(e){e.exports={userList:"userList_userList__2j7Ym",title:"userList_title__2uStV",list:"userList_list__3-rs4"}},6497:function(e){e.exports={userListItem:"userListItem_userListItem__2Ol1z",item:"userListItem_item__31vKy"}},3583:function(e){e.exports={title:"addUser_title__1tIbC"}}},function(e){e.O(0,[536,675,774,888,179],(function(){return n=382,e(e.s=n);var n}));var n=e.O();_N_E=n}]);